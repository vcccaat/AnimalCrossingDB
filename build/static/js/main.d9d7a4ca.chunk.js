(this.webpackJsonpanimalcrossing=this.webpackJsonpanimalcrossing||[]).push([[0],{10:function(e,t,n){e.exports=n(20)},15:function(e,t,n){},20:function(e,t,n){"use strict";n.r(t);var a=n(0),i=n.n(a),c=n(9),o=n.n(c),r=(n(15),n(1)),s=n(2),l=n(4),u=n(3),m=function(e){var t=e.name,n=e.price,a=e.id,c=e.time,o=e.month,r=e.region,s=e.category,l=a+1,u=c||"\u968f\u673a",m="";if("fish"===s||"bugs"===s){var h="";""!==r&&(h=i.a.createElement("p",null,"Month: ",o||"\u5e38\u89c1"," ")),m=i.a.createElement("div",null," ",i.a.createElement("p",null,"\u4ef7\u683c: ",n),i.a.createElement("p",null,"\u65f6\u95f4: ",u)," ",h," ")}return i.a.createElement("div",{className:"item-card"},i.a.createElement("img",{alt:"items",src:"https://acnhapi.com/v1/images/".concat(s,"/").concat(l,"?size=200x200")}),i.a.createElement("h4",{className:"name-text"},t),m)},h=(n(8),function(e){var t=e.items,n=e.region,a=e.category;return"fish"===a||"bugs"===a?t.map((function(e,t){return i.a.createElement(m,{id:e[1].id-1,name:e[1].name["name-CNzh"],price:e[1].price,time:e[1].availability.time,month:e[1].availability[n],region:n,category:a})})):t.map((function(e,t){return i.a.createElement(m,{key:t,id:t,name:e[1].name["name-CNzh"],region:n,category:a})}))}),f=function(e){e.searchfield;var t=e.searchChange;return i.a.createElement("form",null,"\u540d\u79f0  ",i.a.createElement("input",{className:"pa2 ba3 bg-white w-40 searchbar",type:"search",placeholder:"Search here",onChange:t}))},d=function(e){Object(l.a)(n,e);var t=Object(u.a)(n);function n(e){var a;return Object(r.a)(this,n),(a=t.call(this,e)).state={clicked:""},a}return Object(s.a)(n,[{key:"handleClick",value:function(e){this.setState({clicked:e})}},{key:"render",value:function(){var e=this;return i.a.createElement("form",null,"\u5730\u533a  ",i.a.createElement("div",{className:"btn-group",role:"group"},i.a.createElement("button",{type:"button",className:1===this.state.clicked?"btn btn-info active":"btn btn-info",onClick:function(){e.handleClick(1),e.props.setRegion("month-southern")}},"\u5357\u534a\u7403"),i.a.createElement("button",{type:"button",className:2===this.state.clicked?"btn btn-info active":"btn btn-info",onClick:function(){e.handleClick(2),e.props.setRegion("month-northern")}},"\u5317\u534a\u7403")))}}]),n}(i.a.Component),b=function(e){Object(l.a)(n,e);var t=Object(u.a)(n);function n(e){var a;return Object(r.a)(this,n),(a=t.call(this,e)).state={clicked:""},a}return Object(s.a)(n,[{key:"handleClick",value:function(e){this.setState({clicked:e})}},{key:"render",value:function(){var e=this,t=Array(12).fill().map((function(t,n){var a=n+1;return i.a.createElement("button",{key:a,type:"button",className:e.state.clicked===a?"btn btn-info active responsive":"btn btn-info responsive",onClick:function(){e.handleClick(a),e.props.setMonth(a)}},a)}));return i.a.createElement("div",{className:"month-filter"},i.a.createElement("form",null,"\u6708\u4efd",i.a.createElement("div",{className:"btn-group",role:"group"},t)))}}]),n}(i.a.Component),g=function(e){Object(l.a)(n,e);var t=Object(u.a)(n);function n(e){var a;return Object(r.a)(this,n),(a=t.call(this,e)).state={clicked:""},a}return Object(s.a)(n,[{key:"handleClick",value:function(e){this.setState({clicked:e})}},{key:"render",value:function(){var e=this;return i.a.createElement("form",null,"\u7c7b\u522b  ",i.a.createElement("div",{className:"btn-group",role:"group"},i.a.createElement("button",{type:"button",className:1===this.state.clicked?"btn btn-info active":"btn btn-info",onClick:function(){e.handleClick(1),e.props.setCategory("fish")}},"\u9c7c\u7c7b"),i.a.createElement("button",{type:"button",className:2===this.state.clicked?"btn btn-info active":"btn btn-info",onClick:function(){e.handleClick(2),e.props.setCategory("bugs")}},"\u6606\u866b\u7c7b"),i.a.createElement("button",{type:"button",className:3===this.state.clicked?"btn btn-info active":"btn btn-info",onClick:function(){e.handleClick(3)}},"\u5bb6\u5177\u7c7b"),i.a.createElement("button",{type:"button",className:4===this.state.clicked?"btn btn-info active":"btn btn-info",onClick:function(){e.handleClick(4),e.props.setCategory("villagers")}},"\u5c45\u6c11\u7c7b")))}}]),n}(i.a.Component),p=function(e){Object(l.a)(n,e);var t=Object(u.a)(n);function n(e){var a;return Object(r.a)(this,n),(a=t.call(this,e)).state={clicked:""},a}return Object(s.a)(n,[{key:"handleClick",value:function(e){this.setState({clicked:e})}},{key:"render",value:function(){var e=this;return i.a.createElement("div",{className:"btn-group",role:"group"},i.a.createElement("button",{type:"button",className:1===this.state.clicked?"btn btn-sm btn-secondary active":"btn btn-sm btn-secondary",onClick:function(){e.handleClick(1),e.props.setRank(0)}},"\u56fe\u9274\u987a\u5e8f"),i.a.createElement("button",{type:"button",className:2===this.state.clicked?"btn btn-sm btn-secondary active":"btn btn-sm btn-secondary",onClick:function(){e.handleClick(2),e.props.setRank(1)}},"\u4ef7\u683c\u4ece\u9ad8\u5230\u4f4e"),i.a.createElement("button",{type:"button",className:3===this.state.clicked?"btn btn-sm btn-secondary active":"btn btn-sm btn-secondary",onClick:function(){e.handleClick(3),e.props.setRank(-1)}},"\u4ef7\u683c\u4ece\u4f4e\u5230\u9ad8"))}}]),n}(i.a.Component),v=n(5),k=function(e){Object(l.a)(n,e);var t=Object(u.a)(n);function n(){var e;return Object(r.a)(this,n),(e=t.call(this)).loadpage=function(){fetch("https://acnhapi.com/v1/".concat(e.state.category,"/")).then((function(e){return e.json()})).then((function(t){e.setState({items:t,isLoading:!1})}))},e.onSearchChange=function(t){e.setState({searchfield:t.target.value})},e.setRegion=function(t){e.setState({region:t})},e.setMonth=function(t){e.setState({month:t})},e.setCategory=function(t){e.setState({category:t,isLoading:!0,region:"",month:"",rank:""})},e.setRank=function(t){e.setState({rank:t})},e.filterItem=function(t,n){var a=t;return a=t.filter((function(e){return e[1].name["name-CNzh"].includes(n)})),"villagers"===e.state.category||(1===e.state.rank&&(a=a.sort((function(e,t){return t[1].price-e[1].price}))),-1===e.state.rank&&(a=a.sort((function(e,t){return e[1].price-t[1].price}))),""!==e.state.region&&""!==e.state.month&&(a=a.filter((function(t){var n="month-southern"===e.state.region?"month-array-southern":"month-array-northern";return t[1].availability[n].includes(e.state.month)})))),a},e.state={items:[],searchfield:"",region:"",month:"",category:"fish",rank:"",isLoading:!0},e}return Object(s.a)(n,[{key:"componentDidMount",value:function(){this.loadpage()}},{key:"componentDidUpdate",value:function(e,t){this.loadpage()}},{key:"render",value:function(){var e=this.state,t=e.items,n=e.searchfield,a=Object.entries(t);return a=this.filterItem(a,n),this.state.isLoading?i.a.createElement("div",{className:"tc loading"},i.a.createElement("h1",null,"Loading"),i.a.createElement(v.a,{type:"grow",color:"secondary"}),i.a.createElement(v.a,{type:"grow",color:"secondary"}),i.a.createElement(v.a,{type:"grow",color:"secondary"})):i.a.createElement("div",{className:"tc"},i.a.createElement("h1",{className:"f1"},"Animal Crossing"),i.a.createElement("div",{className:"filter-row"},i.a.createElement(d,{setRegion:this.setRegion}),i.a.createElement(b,{setMonth:this.setMonth}),i.a.createElement(g,{setCategory:this.setCategory}),i.a.createElement(f,{searchChange:this.onSearchChange})),i.a.createElement("div",{className:"filter"},i.a.createElement(p,{setRank:this.setRank})),i.a.createElement("div",{className:"container"},i.a.createElement(h,{items:a,region:this.state.region,category:this.state.category})))}}]),n}(a.Component),y=Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));function E(e){navigator.serviceWorker.register(e).then((function(e){e.onupdatefound=function(){var t=e.installing;t.onstatechange=function(){"installed"===t.state&&(navigator.serviceWorker.controller?console.log("New content is available; please refresh."):console.log("Content is cached for offline use."))}}})).catch((function(e){console.error("Error during service worker registration:",e)}))}n(18),n(19);o.a.render(i.a.createElement(k,null),document.getElementById("root")),function(){if("serviceWorker"in navigator){if(new URL("/AnimalCrossingDB",window.location).origin!==window.location.origin)return;window.addEventListener("load",(function(){var e="".concat("/AnimalCrossingDB","/service-worker.js");y?function(e){fetch(e).then((function(t){404===t.status||-1===t.headers.get("content-type").indexOf("javascript")?navigator.serviceWorker.ready.then((function(e){e.unregister().then((function(){window.location.reload()}))})):E(e)})).catch((function(){console.log("No internet connection found. App is running in offline mode.")}))}(e):E(e)}))}}()},8:function(e,t,n){}},[[10,1,2]]]);
//# sourceMappingURL=main.d9d7a4ca.chunk.js.map